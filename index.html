<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Impact</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Double Impact Project</h1>
        <div class="balance-section">
            <div class="democrat">
                <h2 id="democrat-amount">$5,115</h2>
                <img src="pictures/democratic.png" alt="Democrat">
            </div>
            <div id="balance-bar" class="balance-bar"></div>
            <div class="pivot-triangle"></div> 
            <div class="republican">
                <h2 id="republican-amount">$8,344</h2>
                <img src="pictures/republican.png" alt="Republican">
            </div>
            <div class="center-box">
                <div id="total-amount" class="total-amount">$0</div>
                <img src="pictures/make-a-wish.png" alt="Make-A-Wish">
            </div>
        </div>
        <div class="donate-section">
            <div class="donate-to-democratic">
                <button class="donate-button-democratic" onclick="window.open('https://support.stripe.com/questions/requirements-for-accepting-tips-or-donations', 'newwindow', 'width=1000,height=1000'); return false;">Donate to the Democratic Party</button>
            </div>
            <div class="donate-to-republican">
                <button class="donate-button-republican" onclick="window.open('https://support.stripe.com/questions/requirements-for-accepting-tips-or-donations', 'newwindow', 'width=1000,height=1000'); return false;">Donate to the Republican Party</button>
            </div>
        </div>
    </div>
    
    <script>
        function calculateRotation(democratAmount, republicanAmount) {
            const total = democratAmount + republicanAmount;
            if (total === 0) return 0;
            const balance = (republicanAmount - democratAmount) / total;
            const maxRotation = 20; 
            return balance * maxRotation;
        }

        function calculateCenterAmount(democratAmount, republicanAmount) {
            return Math.min(democratAmount, republicanAmount) * 2;
        }

        document.addEventListener("DOMContentLoaded", function() {
            const democratAmount = parseFloat(document.getElementById("democrat-amount").textContent.replace(/[^0-9.-]+/g,""));
            const republicanAmount = parseFloat(document.getElementById("republican-amount").textContent.replace(/[^0-9.-]+/g,""));
            
            const rotationAngle = calculateRotation(democratAmount, republicanAmount);
            const balanceBar = document.getElementById("balance-bar");
            balanceBar.style.transform = `translateX(-50%) rotate(${rotationAngle}deg)`;

            const centerAmount = calculateCenterAmount(democratAmount, republicanAmount);
            const totalAmountElement = document.getElementById("total-amount");
            totalAmountElement.textContent = `$${centerAmount.toLocaleString()}`;
        });
    </script>
</body>
</html>